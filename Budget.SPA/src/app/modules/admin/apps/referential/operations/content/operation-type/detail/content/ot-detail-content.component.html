<div
    [formGroup]="_otDetailService.form.formGroup"
    ngxsForm="otDetail"
    *ngIf="_otDetailService.formIsLoaded as loaded">

    <div class="grid grid-cols-3 gap-2 pt-10">
        <div class="col-span-2"><ng-container *ngTemplateOutlet="tp_label"></ng-container></div><div></div>
        <div class="col-span-2"><ng-container *ngTemplateOutlet="tp_operationTypeFamily"></ng-container></div><div></div>
    </div>

<!-- ============================================================================== -->
<!-- ===========================       TEMPLATE        ============================ -->
<!-- ============================================================================== -->

    <!-- ===========================       label        ============================ -->
    <ng-template #tp_label>
        <mat-form-field class="w-full" appearance="outline" floatLabel="always">
            <mat-label>Libellé</mat-label>
            <input
                matInput
                [attr.data-cy]="property.label"
                [formControlName]="property.label">
        </mat-form-field>
    </ng-template>

    <!-- ===========================       operationTypeFamily        ============================ -->
    <ng-template #tp_operationTypeFamily>
        <mat-form-field class="w-full" appearance="outline" floatLabel="always">
            <mat-label>Catégorie opération</mat-label>
            <mat-select
                [attr.data-cy]="property.operationTypeFamily"
                [formControlName]="property.operationTypeFamily"
                [compareWith]="compareObjects">
                    <mat-optgroup *ngFor="let group of (_otDetailService.stateFilter$ | async)?.datas?.operationTypeFamily" [label]="group.label">
                        <mat-option *ngFor="let item of group.selects" [value]="item">
                            {{ item?.label }}
                        </mat-option>
                    </mat-optgroup>
            </mat-select>
        </mat-form-field>
    </ng-template>

</div>
